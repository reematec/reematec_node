(()=>{let e=document.querySelector("select#subCategory"),t=document.querySelector("select#category");t&&t.addEventListener("change",(function(n){let r=t.options[t.selectedIndex].value;const o=new XMLHttpRequest;return o.open("GET","getsubcategories/"+r+"/",!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=()=>{let t="";JSON.parse(o.responseText).subcategories.forEach((e=>{t+=`<option value="${e.id}">${e.name}</option>`})),e.innerHTML=t},o.send(),!1}));let n=document.querySelector(".navbar__brand__hamburger");n&&n.addEventListener("click",(function(){let e=document.getElementById("navbar-links");e&&e.classList.toggle("navbar__collapsed")}));let r=document.querySelector("#contact-list-slider");if(r){const _=r.previousElementSibling,T=r.nextElementSibling;let C=Array.from(r.children),R=r.parentElement.clientWidth,H=3e3;C.forEach((function(e,t){e.style.left=R*t+"px"})),r.addEventListener("mouseover",l),_.addEventListener("mouseover",l),T.addEventListener("mouseover",l),r.addEventListener("mouseleave",a),_.addEventListener("mouseleave",a),T.addEventListener("mouseleave",a),T.addEventListener("click",(function(){o>1&&(r.style.left=parseInt(r.style.left.replace("px",""))+R+"px",o--)})),_.addEventListener("click",(function(){o<r.childElementCount&&(r.style.left="-"+o*R+"px",o++)}));var o=1;function c(){r.style.left="-"+R*o+"px",++o>r.childElementCount&&(r.style.left="0px",o=1),_.style.display="block"}let I=setInterval(c,H);function l(){clearInterval(I)}function a(){I=setInterval(c,H)}}let i,s,d,u,m,g,p,y,v,f,q;function E(e){u=document.activeElement,e.classList.toggle("show-modal"),e.addEventListener("keydown",b);let t=e.querySelectorAll("input:not([disabled]), button:not([disabled])");m=t[0],g=t[t.length-1],m&&m.focus()}function b(e){9===e.keyCode&&document.activeElement===g&&(e.preventDefault(),m.focus()),27===e.keyCode&&h(document.querySelector(".show-modal"))}function h(e){e.classList.toggle("show-modal"),u.focus()}document.querySelector("#modal-search")&&document.querySelector("#btnSearch")&&document.querySelector(".close-button")&&(s=document.querySelector("#modal-search"),i=document.querySelector("#btnSearch"),i.addEventListener("click",(function(){E(s)})),d=document.querySelector(".close-button"),d.addEventListener("click",(function(){h(s)}))),window.addEventListener("click",(function(e){e.target===s?E(s):e.target===y?E(y):e.target===q&&E(q)})),p=document.querySelectorAll(".quote-wrapper");for(let M=0;M<p.length;M++)p[M].addEventListener("click",S);function S(e){if(console.time("GetQuoteModal"),"quote-button"==e.target.classList&&(e.preventDefault(),document.querySelector("#modal-quote"))){y=document.querySelector("#modal-quote"),E(y);let t=document.getElementById("rfq-preview");const n=e.target.parentElement.parentElement.parentElement;t.querySelector(".image-responsive").src=n.querySelector(".product-image").src,t.querySelector("#prod-name").innerText=n.querySelector(".card__caption__basic__name").innerText,t.querySelector("#prod-construction").innerText=n.querySelector(".construction-type").innerText,t.querySelector("#prod-usage").innerText=n.querySelector(".usage").innerText}console.timeEnd("GetQuoteModal")}document.querySelector("#modal-quote .close-button")&&(d=document.querySelector("#modal-quote .close-button"),d.addEventListener("click",(function(){h(y)}))),v=document.querySelector("#btn-model-images"),v&&v.addEventListener("click",k),f=document.querySelector("#load-more-images"),f&&f.addEventListener("click",k);let L=document.querySelector("#image-showcase"),x="/home/imagesAjax/?page=0";function k(e){e.preventDefault(),q=document.querySelector("#modal-images"),q&&"btn-model-images"==e.target.id&&E(q);const t=new XMLHttpRequest;return t.open("GET",x,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onload=()=>{const n=JSON.parse(t.responseText);if(console.log(n),"btn-model-images"==e.target.id&&1==n.page)r();else{if("load-more-images"!=e.target.id)return;r()}function r(e){f.disabled||n.images.forEach((e=>{const t=document.createElement("img");t.classList.add("product-image"),t.src=`/images/assets/${e.src}`,t.width=100,t.setAttribute("id",e.id),L.appendChild(t)}))}if(n.currentPage<n.totalPages){let e=Number(n.currentPage)+Number(1);x="imagesAjax/?page="+e}else f.disabled=!0,n.images=null},t.send(),!1}document.querySelector("#modal-images .close-button")&&(d=document.querySelector("#modal-images .close-button"),d.addEventListener("click",(function(){h(q)})));const A=document.querySelector("#product-image-array"),w=document.querySelector("#selected-images");L&&L.addEventListener("click",(e=>{if("img"==e.target.localName){let t=null;if(A&&Array.from(A.children).forEach((n=>{n.value==e.target.id&&(n.remove(),t=!0,e.target.classList.remove("image-border-highlight"))})),w&&Array.from(w.children).forEach((n=>{n.id==e.target.id&&(n.remove(),t=!0)})),!t){const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","image"),t.setAttribute("value",e.target.id),A.appendChild(t);const n=document.createElement("span");n.setAttribute("id",e.target.id);const r=document.createElement("input");r.setAttribute("type","button"),r.setAttribute("id",e.target.id),r.setAttribute("value","x"),r.classList.add("remove-button");let o=document.createElement("img");o.src=e.target.src,o.setAttribute("width","100px"),o.setAttribute("height","100px"),n.appendChild(r),n.appendChild(o),w.appendChild(n),e.target.classList.add("image-border-highlight")}}})),w&&w.addEventListener("click",(e=>{e.target.classList.contains("remove-button")&&(e.target.parentElement.remove(),A&&Array.from(A.children).forEach((t=>{t.value==e.target.id&&t.remove()})))}))})();